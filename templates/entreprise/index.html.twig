{% extends 'base.html.twig' %}

{% block icon %}🏢{% endblock %}
{% block title %}Entreprises{% endblock %}
{% block background %}{{ asset('img/background.png') }}{% endblock %}

{% block form %}
    <form class="d-flex" role="search" action="{{ path('app_entreprise_index') }}" method="get">
        <input class="form-control me-2" type="search" placeholder="Rechercher" aria-label="Search" name="textRecherche" value="{{ textRecherche|default }}">
        <button class="btn btn-outline-success" type="submit">🔎</button>
    </form>
{% endblock %}

{% block body %}

    {# Affichage de la liste de toutes les entreprises #}
    {% if Entreprises|length > 0 %}
        <div class="titre_bloc taille1">
            <h1>LISTE DES ENTREPRISES</h1>
        </div>
        <br>
        <div class="bloc_entreprises">
            {% for Entreprise in Entreprises %}
                <div class="bloc_entreprise">
                    <div class="bord"></div>
                    <div class="infos_entreprise">
                        <a href="entreprise/{{ Entreprise.id }}">
                            <img src="{{ Entreprise.logo }}" alt="Logo de {{ Entreprise.nomEnt }}"/>
                        </a>
                        <h3>{{ Entreprise.nomEnt }}</h3>
                        <p>{{ nbOffres[Entreprise.getId()] }} annonces en ligne</p>
                    </div>
                </div>
            {% endfor %}
        </div>

        {% else %}

            {# Affichage d'un message si aucune entreprise n'est trouvée #}
            <div class="entreprise_menu">
                <h1>Aucune Entreprise trouvée</h1>
            </div>

        {% endif %}
{% endblock %}
